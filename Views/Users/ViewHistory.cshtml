@model List<POE_MVC_part1.Models.Claims>

<link rel="stylesheet" href="~/css/StyleSheet.css" asp-append-version="true" />
@Html.Partial("_NavigationBars")

<!-- View Claim History Section -->
<div class="Content_View">
    <h3>Claim History</h3>
    <p>Below is a summary of all your submitted claims, including status.</p>

    <div class="back_link">
        <a href="@Url.Action("Lecture", "Users")">
            &larr; Back to Lecturer Dashboard
        </a>
    </div>

    <table class="claims-table">
        <thead>
            <tr>
                <th>Module</th>
                <th>Sessions</th>
                <th>Hourly Rate</th>
                <th>Total</th>
                <th>Claim Period</th>
                <th>Status</th>
                <th>Document</th>
            </tr>
        </thead>
        <tbody>
            @if (Model == null || !Model.Any())
            {
                <tr>
                    <td colspan="7" class="no-claims">
                        No claims found for your account.
                    </td>
                </tr>
            }
            else
            {
                @foreach (var claim in Model)
                {
                    <tr>
                        <td>@claim.module_name</td>
                        <td>@claim.number_of_sssions</td>
                        <td>@claim.hourly_rate.ToString("R")</td>
                        <td>@claim.TotalAmount.ToString("r")</td>
                        <td>@claim.startdate to @claim.end_date</td>
                        <td>@claim.ClaimStatus</td>
                        <td>
                            @if (claim.DocumentData != null)
                            {
                                <a class="download-link" asp-action="DownloadClaim" asp-route-id="@claim.Claim_Id">Download</a>
                            }
                            else
                            {
                                <span>No document</span>
                            }
                        </td>
                    </tr>
                }
            }
        </tbody>
    </table>

</div>

<!--Custom divider code-->
<div class="custom-shape-divider-bottom-1757286662">
    <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
        <path d="M892.25 114.72L0 0 0 120 1200 120 1200 0 892.25 114.72z" class="shape-fill"></path>
    </svg>
</div>

<footer class="site-footer">
    <p>&copy; 2025 My Website. All rights reserved.</p>
</footer>
